{"version":3,"sources":["Bet.js"],"names":["Game","require","cc","Class","extends","Component","properties","chipPrefab","default","type","Prefab","btnChips","Node","chipValues","anchorChipToss","init","_registerBtns","self","registerBtn","index","i","on","event","instance","addStake","playAddChip","length","startPos","v2","Math","random","chip","instantiate","addChild","setPosition","getComponent","play","resetChips","resetStake","info","enabled","resetTossedChips","removeAllChildren"],"mappings":";;;;;;AAAA,IAAIA,OAAOC,QAAQ,MAAR,CAAX;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,oBAAY;AACRC,qBAAS,IADD;AAERC,kBAAMP,GAAGQ;AAFD,SADJ;AAKRC,kBAAU;AACNH,qBAAS,EADH;AAENC,kBAAMP,GAAGU;AAFH,SALF;AASRC,oBAAY;AACRL,qBAAS,EADD;AAERC,kBAAM;AAFE,SATJ;AAaRK,wBAAgB;AACZN,qBAAS,IADG;AAEZC,kBAAMP,GAAGU;AAFG;AAbR,KAHP;;AAsBL;AACAG,UAAM,gBAAY;AACd,aAAKC,aAAL;AACH,KAzBI;;AA2BLA,mBAAe,yBAAY;AACvB,YAAIC,OAAO,IAAX;AACA,YAAIC,cAAc,SAAdA,WAAc,CAAUC,KAAV,EAAiB;AAC/BF,iBAAKN,QAAL,CAAcS,CAAd,EAAiBC,EAAjB,CAAoB,YAApB,EAAkC,UAAUC,KAAV,EAAiB;AAC/C,oBAAItB,KAAKuB,QAAL,CAAcC,QAAd,CAAuBP,KAAKJ,UAAL,CAAgBM,KAAhB,CAAvB,CAAJ,EAAoD;AAChDF,yBAAKQ,WAAL;AACH;AACJ,aAJD,EAIG,IAJH;AAKH,SAND;AAOA,aAAK,IAAIL,IAAI,CAAb,EAAgBA,IAAIH,KAAKN,QAAL,CAAce,MAAlC,EAA0C,EAAEN,CAA5C,EAA+C;AAC3CF,wBAAYE,CAAZ;AACH;AACJ,KAvCI;;AAyCLK,iBAAa,uBAAY;AACrB,YAAIE,WAAWzB,GAAG0B,EAAH,CAAM,CAACC,KAAKC,MAAL,KAAgB,GAAjB,IAAwB,CAAxB,GAA4B,EAAlC,EAAsC,CAACD,KAAKC,MAAL,KAAgB,GAAjB,IAAwB,CAAxB,GAA4B,EAAlE,CAAf;AACA,YAAIC,OAAO7B,GAAG8B,WAAH,CAAe,KAAKzB,UAApB,CAAX;AACA,aAAKO,cAAL,CAAoBmB,QAApB,CAA6BF,IAA7B;AACAA,aAAKG,WAAL,CAAiBP,QAAjB;AACAI,aAAKI,YAAL,CAAkB,UAAlB,EAA8BC,IAA9B;AACH,KA/CI;;AAiDLC,gBAAY,sBAAY;AACpBrC,aAAKuB,QAAL,CAAce,UAAd;AACAtC,aAAKuB,QAAL,CAAcgB,IAAd,CAAmBC,OAAnB,GAA6B,KAA7B;AACA,aAAKC,gBAAL;AACH,KArDI;;AAuDLA,sBAAkB,4BAAY;AAC1B,aAAK3B,cAAL,CAAoB4B,iBAApB;AACH;AAzDI,CAAT","file":"Bet.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["var Game = require('Game');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        chipPrefab: {\n            default: null,\n            type: cc.Prefab\n        },\n        btnChips: {\n            default: [],\n            type: cc.Node\n        },\n        chipValues: {\n            default: [],\n            type: 'Integer'\n        },\n        anchorChipToss: {\n            default: null,\n            type: cc.Node\n        }\n    },\n\n    // use this for initialization\n    init: function () {\n        this._registerBtns();\n    },\n\n    _registerBtns: function () {\n        var self = this;\n        var registerBtn = function (index) {\n            self.btnChips[i].on('touchstart', function (event) {\n                if (Game.instance.addStake(self.chipValues[index])) {\n                    self.playAddChip();\n                }\n            }, this);\n        };\n        for (var i = 0; i < self.btnChips.length; ++i) {\n            registerBtn(i);\n        }\n    },\n\n    playAddChip: function () {\n        var startPos = cc.v2((Math.random() - 0.5) * 2 * 50, (Math.random() - 0.5) * 2 * 50);\n        var chip = cc.instantiate(this.chipPrefab);\n        this.anchorChipToss.addChild(chip);\n        chip.setPosition(startPos);\n        chip.getComponent('TossChip').play();\n    },\n\n    resetChips: function () {\n        Game.instance.resetStake();\n        Game.instance.info.enabled = false;\n        this.resetTossedChips();\n    },\n\n    resetTossedChips: function () {\n        this.anchorChipToss.removeAllChildren();\n    },\n});\n"]}