{"version":3,"sources":["../../../../../assets/scripts/UI/assets/scripts/UI/InGameUI.js"],"names":["Game","require","cc","Class","extends","Component","properties","panelChat","default","type","Node","panelSocial","betStateUI","gameStateUI","resultTxt","Label","betCounter","btnStart","labelTotalChips","init","betDuration","active","enabled","progressTimer","initCountdown","countdownTex","instance","assetMng","texBetCountdown","getTexture","sgCountdown","_ccsg","Sprite","setColor","Color","BLACK","ProgressTimer","setName","setMidpoint","v2","setType","Type","RADIAL","reverseDir","_sgNode","addChild","setPosition","height","setPercentage","startCountdown","fromTo","progressFromTo","runAction","resetCountdown","stopAllActions","showBetState","showGameState","showResultState","toggleChat","toggleSocial","update","dt"],"mappings":"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","file":"InGameUI.js","sourceRoot":"../../../../../assets/scripts/UI","sourcesContent":["var Game = require('Game');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        panelChat: {\n            default: null,\n            type: cc.Node\n        },\n        panelSocial: {\n            default: null,\n            type: cc.Node\n        },\n        betStateUI: {\n            default: null,\n            type: cc.Node\n        },\n        gameStateUI: {\n            default: null,\n            type: cc.Node\n        },\n        resultTxt: {\n            default: null,\n            type: cc.Label\n        },\n        betCounter: {\n            default: null,\n            type: cc.Node\n        },\n        btnStart: {\n            default: null,\n            type: cc.Node\n        },\n        labelTotalChips: {\n            default: null,\n            type: cc.Label\n        }\n    },\n\n    // use this for initialization\n    init: function (betDuration) {\n        this.panelChat.active = false;\n        this.panelSocial.active = false;\n        this.resultTxt.enabled = false;\n        this.betStateUI.active = true;\n        this.gameStateUI.active = false;\n        // this.resultStateUI.active = false;\n        this.btnStart.active = false;\n        this.betDuration = betDuration;\n        this.progressTimer = this.initCountdown();\n    },\n\n    initCountdown: function () {\n        var countdownTex = Game.instance.assetMng.texBetCountdown.getTexture();\n        this.sgCountdown = new _ccsg.Sprite(countdownTex);\n        this.sgCountdown.setColor(cc.Color.BLACK);\n\n        var progressTimer = new cc.ProgressTimer(this.sgCountdown);\n        progressTimer.setName('progressTimer');\n        progressTimer.setMidpoint(cc.v2(0.5, 0.5));\n        progressTimer.setType(cc.ProgressTimer.Type.RADIAL);\n        progressTimer.reverseDir = true;\n        this.betCounter._sgNode.addChild(progressTimer);\n        progressTimer.setPosition(cc.v2(0, -this.betCounter.height/2));\n        progressTimer.setPercentage(0);\n\n        return progressTimer;\n    },\n\n    startCountdown: function() {\n        if (this.progressTimer) {\n            var fromTo = cc.progressFromTo(this.betDuration, 0, 100);\n            this.progressTimer.runAction(fromTo);\n        }\n    },\n\n    resetCountdown: function() {\n        if (this.progressTimer) {\n            this.progressTimer.stopAllActions();\n            this.progressTimer.setPercentage(100);\n        }\n    },\n\n    showBetState: function () {\n        this.betStateUI.active = true;\n        this.gameStateUI.active = false;\n        this.btnStart.active = false;\n    },\n\n    showGameState: function () {\n        this.betStateUI.active = false;\n        this.gameStateUI.active = true;\n        this.btnStart.active = false;\n    },\n\n    showResultState: function () {\n        this.betStateUI.active = false;\n        this.gameStateUI.active = false;\n        this.btnStart.active = true;\n    },\n\n    toggleChat: function () {\n        this.panelChat.active = !this.panelChat.active;\n    },\n\n    toggleSocial: function () {\n        this.panelSocial.active = !this.panelSocial.active;\n    },\n\n    // called every frame\n    update: function (dt) {\n\n    },\n});\n"]}