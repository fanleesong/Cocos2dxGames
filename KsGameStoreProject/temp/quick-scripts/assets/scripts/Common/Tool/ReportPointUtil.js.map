{"version":3,"sources":["ReportPointUtil.js"],"names":["require","EnvConfig","Env_Config_Type","RequestTaskFactory","Task_Type","ReportPointUtil","isNewUser","userId","getReportUserId","deviceId","getReportDeviceId","appVersion","getReportAppVersion","projectValue","platformType","cc","sys","os","platform","OS_ANDROID","OS_IOS","url","ss","URLConst","getReportPointURL","tz","Date","parse","paramsValue","uid","app_version","JSON","stringify","param","page","event","isuv","eventid","eventtime","project","source","userid","array","Array","push","arrayStr","task","createTask","Report","_onReceiveGameStoreEnterLauncherShowEvent","bind","doPost","obj","console","log","pointName","houseStatus","house_status","point_name","_onReceiveMineCraftItemChangeEvent","itemName","useItem","use_item","item_name","_onReceiveMineCraftItemUseEvent","medalId","ts","level","userInfoCache","userLevel","game_version","_getGameVersion","medal_id","_onReceiveClickDisplayEvent","channelTypeString","shareChannel","GlobalConst","SHARE_APP_TYPE","TYPE_FRIENDS","TYPE_TIMELINE","TYPE_SAVEPICTURE","share_to","_onReceiveShareMedalEvent","gameVersion","envMode","EnvMode","Env_Config_Type_Test","localStorage","getItem","Env_Config_Type_Gamma","Env_Config_Type_Release","Env_Config_Type_Dev","undefined","dId","uId","ver","module","exports"],"mappings":"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","file":"ReportPointUtil.js","sourceRoot":"../../../../../../assets/scripts/Common/Tool","sourcesContent":["const {EnvConfig, Env_Config_Type} = require('GameConfig');\nconst {RequestTaskFactory, Task_Type} = require('RequestTaskFactory');\n\nclass ReportPointUtil {\n\n\n    /**\n     * 进入游戏商城场景\n     * @param isNewUser \"is_new\": Y: 是, N:否(是否是新用户)\n     */\n    reportGameStoreEnterLauncherShowEvent(isNewUser = false) {\n\n        let userId = this.getReportUserId();\n        let deviceId = this.getReportDeviceId();\n        let appVersion = this.getReportAppVersion();\n        let projectValue = \"android-story\";\n        let platformType = cc.sys.os;\n        let platform = \"android\";\n        if (platformType === cc.sys.OS_ANDROID) {\n            projectValue = \"android-story\";\n            platform = \"android\";\n        } else if (platformType === cc.sys.OS_IOS) {\n            projectValue = \"ios-story\";\n            platform = \"ios\";\n        }\n\n        let url = cc.ss.URLConst.getReportPointURL();\n        let tz = Date.parse(new Date());\n\n        let paramsValue = {\n            uid: userId,\n            app_version: appVersion,\n            tz: tz,\n        };//必传参数\n        /**主要参数**/\n        paramsValue.platform = platform;//平台ios android wx\n        /**主要参数**/\n\n        paramsValue = JSON.stringify(paramsValue);\n\n        let param = {};\n        param.page = \"task_house\";\n        /**主要参数**/\n        param.event = \"show\";\n        /**主要参数**/\n        param.isuv = \"false\";\n        param.eventid = \"\";\n        param.eventtime = tz;\n        param.param = paramsValue;\n        param.project = projectValue;\n        param.source = \"\";\n        param.userid = deviceId;//必传参数\n\n\n        let array = new Array();\n        array.push(param);\n        let arrayStr = JSON.stringify(array);\n        // console.log(\"----打点Json-->\\n\" + arrayStr);\n\n        let task = RequestTaskFactory.createTask(Task_Type.Report, url, arrayStr, this._onReceiveGameStoreEnterLauncherShowEvent.bind(this));\n        task.doPost();\n\n\n    }\n\n    _onReceiveGameStoreEnterLauncherShowEvent(obj) {\n        console.log(\"[ReportPointUtil]---上报点击进入小屋世界主界面回调--->\" + JSON.stringify(obj));\n    }\n\n    /**\n     *\n     * 小屋 点位状态变化-->道具拖放事件打点\n     * @param pointName [A1， A2， A3， B1， B2， B3， B4， B5， B6]\n     * @param houseStatus [0=空值， 1=放入]\n     *\n     */\n    reportMineCraftItemChangeEvent(pointName,houseStatus=0) {\n\n        let userId = this.getReportUserId();\n        let deviceId = this.getReportDeviceId();\n        let appVersion = this.getReportAppVersion();\n        let projectValue = \"android-story\";\n        let platformType = cc.sys.os;\n        let platform = \"android\";\n        if (platformType === cc.sys.OS_ANDROID) {\n            projectValue = \"android-story\";\n            platform = \"android\";\n        } else if (platformType === cc.sys.OS_IOS) {\n            projectValue = \"ios-story\";\n            platform = \"ios\";\n        }\n\n        let url = cc.ss.URLConst.getReportPointURL();\n        let tz = Date.parse(new Date());\n\n        let paramsValue = {\n            uid: userId,\n            app_version: appVersion,\n            tz: tz,\n        };//必传参数\n        /**主要参数**/\n        paramsValue.platform = platform;//平台ios android wx\n        paramsValue.house_status = houseStatus;//必传参数\n        paramsValue.point_name = pointName;//必传参数\n        /**主要参数**/\n\n        paramsValue = JSON.stringify(paramsValue);\n\n        let param = {};\n        param.page = \"task_house\";\n        /**主要参数**/\n        param.event = \"change\";\n        /**主要参数**/\n        param.isuv = \"false\";\n        param.eventid = \"\";\n        param.eventtime = tz;\n        param.param = paramsValue;\n        param.project = projectValue;\n        param.source = \"\";\n        param.userid = deviceId;//必传参数\n\n\n        let array = new Array();\n        array.push(param);\n        let arrayStr = JSON.stringify(array);\n        // console.log(\"----打点Json-->\\n\" + arrayStr);\n\n        let task = RequestTaskFactory.createTask(Task_Type.Report, url, arrayStr, this._onReceiveMineCraftItemChangeEvent.bind(this));\n        task.doPost();\n\n\n    }\n\n    _onReceiveMineCraftItemChangeEvent(obj) {\n        console.log(\"[ReportPointUtil]---上报世界道具切换变化回调--->\" + JSON.stringify(obj));\n    }\n\n    /**\n     * 小屋道具使用事件打点\n     * @param itemName [蓝壁纸， 粉壁纸， 蓝点床单， 红格床单， 橙色窗帘， 紫色窗帘， 玩具琴， 足球， 小熊， 积木， 不倒翁， 警车，娃娃，挖掘机，篮球，兔子]\n     * @param useItem [0=拖动摆放，1=点击摆放] ps:目前都是拖动摆放\n     *\n     */\n    reportMineCraftItemUseEvent(itemName,useItem=0) {\n\n        let userId = this.getReportUserId();\n        let deviceId = this.getReportDeviceId();\n        let appVersion = this.getReportAppVersion();\n        let projectValue = \"android-story\";\n        let platformType = cc.sys.os;\n        let platform = \"android\";\n        if (platformType === cc.sys.OS_ANDROID) {\n            projectValue = \"android-story\";\n            platform = \"android\";\n        } else if (platformType === cc.sys.OS_IOS) {\n            projectValue = \"ios-story\";\n            platform = \"ios\";\n        }\n\n        let url = cc.ss.URLConst.getReportPointURL();\n        let tz = Date.parse(new Date());\n\n        let paramsValue = {\n            uid: userId,\n            app_version: appVersion,\n            tz: tz,\n        };//必传参数\n        /**主要参数**/\n        paramsValue.platform = platform;//平台ios android wx\n        paramsValue.use_item = useItem;//必传参数\n        paramsValue.item_name = itemName;//必传参数\n        /**主要参数**/\n\n        paramsValue = JSON.stringify(paramsValue);\n\n        let param = {};\n        param.page = \"task_house\";\n        /**主要参数**/\n        param.event = \"item_use\";\n        /**主要参数**/\n        param.isuv = \"false\";\n        param.eventid = \"\";\n        param.eventtime = tz;\n        param.param = paramsValue;\n        param.project = projectValue;\n        param.source = \"\";\n        param.userid = deviceId;//必传参数\n\n        let array = new Array();\n        array.push(param);\n        let arrayStr = JSON.stringify(array);\n        // console.log(\"----打点Json-->\\n\" + arrayStr);\n\n        let task = RequestTaskFactory.createTask(Task_Type.Report, url, arrayStr, this._onReceiveMineCraftItemUseEvent.bind(this));\n        task.doPost();\n\n\n    }\n\n    _onReceiveMineCraftItemUseEvent(obj) {\n        console.log(\"[ReportPointUtil]---上报世界道具使用回调--->\" + JSON.stringify(obj));\n    }\n\n    /**\n     * 炫耀一下\n     * {honor_name : 勋章名称,  “game_version” : “任务版本””，“num” : “星星数量”，“level”: “等级”， “is_lock”: “Y – 锁定， N – 未锁定”}\n     * @param\n     */\n    reportClickDisplayEvent(medalId) {\n\n        let userId = this.getReportUserId();\n        let deviceId = this.getReportDeviceId();\n        let appVersion = this.getReportAppVersion();\n        let projectValue = \"android-story\";\n        let platformType = cc.sys.os;\n        let platform = \"android\";\n        if (platformType === cc.sys.OS_ANDROID) {\n            projectValue = \"android-story\";\n            platform = \"android\";\n        } else if (platformType === cc.sys.OS_IOS) {\n            projectValue = \"ios-story\";\n            platform = \"ios\";\n        }\n\n        let url = cc.ss.URLConst.getReportPointURL();\n        let ts = Date.parse(new Date());\n        let paramsValue = {\n            uid: userId,\n            app_version: appVersion,\n            tz:ts,\n        };//必传参数\n        /**主要参数**/\n        paramsValue.platform = platform;//平台ios android wx\n        paramsValue.level = cc.ss.userInfoCache.userLevel;\n        paramsValue.game_version = this._getGameVersion();\n        paramsValue.medal_id = medalId;\n        /**主要参数**/\n\n        paramsValue = JSON.stringify(paramsValue);\n        let param = {};\n        param.page = \"task_house\";\n        /**主要参数**/\n        param.event = \"share_trigger\";\n        /**主要参数**/\n        param.isuv = \"false\";\n        param.eventid = \"\";\n        param.eventtime = ts;\n        param.param = paramsValue;\n        param.project = projectValue;\n        param.source = \"\";\n        param.userid = deviceId;//必传参数\n        param.level = cc.ss.userInfoCache.userLevel;\n        param.game_version = this._getGameVersion();\n        param.medal_id = medalId;\n\n\n        let array = new Array();\n        array.push(param);\n        let arrayStr = JSON.stringify(array);\n        // console.log(\"----打点Json-->\\n\" + arrayStr);\n\n        let task = RequestTaskFactory.createTask(Task_Type.Report, url, arrayStr, this._onReceiveClickDisplayEvent.bind(this));\n        task.doPost();\n\n\n    }\n\n    _onReceiveClickDisplayEvent(obj) {\n        console.log(\"[ReportPointUtil]---上报打点炫耀一下勋章--->\" + JSON.stringify(obj));\n    }\n\n\n    /**\n     * 分享勋章\n     * @param stageQuestionType\n     * @param channelTypeString [\"share_to\": \"定值：微信朋友/微信朋友圈/QQ/微博/保存图片\"]\n     *\n     */\n    reportShareMedalEvent(channelTypeString) {\n\n        let shareChannel = \"\";\n        if (channelTypeString === cc.ss.GlobalConst.SHARE_APP_TYPE.TYPE_FRIENDS) {\n            shareChannel = \"微信朋友\";\n        } else if (channelTypeString === cc.ss.GlobalConst.SHARE_APP_TYPE.TYPE_TIMELINE) {\n            shareChannel = \"微信朋友圈\";\n        } else if (channelTypeString === cc.ss.GlobalConst.SHARE_APP_TYPE.TYPE_SAVEPICTURE) {\n            shareChannel = \"保存图片\";\n        }\n\n        let userId = this.getReportUserId();\n        let deviceId = this.getReportDeviceId();\n        let appVersion = this.getReportAppVersion();\n        let projectValue = \"android-story\";\n        let platformType = cc.sys.os;\n        let platform = \"android\";\n        if (platformType === cc.sys.OS_ANDROID) {\n            projectValue = \"android-story\";\n            platform = \"android\";\n        } else if (platformType === cc.sys.OS_IOS) {\n            projectValue = \"ios-story\";\n            platform = \"ios\";\n        }\n\n        let url = cc.ss.URLConst.getReportPointURL();\n        let ts = Date.parse(new Date());\n\n        let paramsValue = {\n            uid: userId,\n            app_version: appVersion,\n            tz:ts,\n        };//必传参数\n        /**主要参数**/\n        paramsValue.platform = platform;//平台ios android wx\n        paramsValue.share_to = shareChannel;\n        /**主要参数**/\n\n        paramsValue = JSON.stringify(paramsValue);\n\n        let param = {};\n        param.page = \"task_house\";\n        /**主要参数**/\n        param.event = \"share_channel\";\n        /**主要参数**/\n        param.isuv = \"false\";\n        param.eventid = \"\";\n        param.eventtime = ts;\n        param.param = paramsValue;\n        param.project = projectValue;\n        param.source = \"\";\n        param.userid = deviceId;//必传参数\n\n\n        let array = new Array();\n        array.push(param);\n        let arrayStr = JSON.stringify(array);\n        // console.log(\"----打点Json-->\\n\" + arrayStr);\n\n        let task = RequestTaskFactory.createTask(Task_Type.Report, url, arrayStr, this._onReceiveShareMedalEvent.bind(this));\n        task.doPost();\n\n\n    }\n\n    _onReceiveShareMedalEvent(obj) {\n        console.log(\"[ReportPointUtil]---上报打点分享勋章--->\" + JSON.stringify(obj));\n    }\n\n    _getGameVersion() {\n        let gameVersion = \"1.0.0\";\n\n        let envMode = EnvConfig.EnvMode;\n        if (envMode === Env_Config_Type.Env_Config_Type_Test) {\n            gameVersion = cc.sys.localStorage.getItem(\"debug_ksPoetryLocalVersion\");\n\n        } else if (envMode === Env_Config_Type.Env_Config_Type_Gamma) {\n            gameVersion = cc.sys.localStorage.getItem(\"gamma_ksPoetryLocalVersion\");\n\n        } else if (envMode === Env_Config_Type.Env_Config_Type_Release) {\n            gameVersion = cc.sys.localStorage.getItem(\"release_ksPoetryLocalVersion\");\n\n        } else if (envMode === Env_Config_Type.Env_Config_Type_Dev) {\n            gameVersion = cc.sys.localStorage.getItem(\"dev_ksPoetryLocalVersion\");\n        }\n\n        if (gameVersion === null || gameVersion === undefined)return \"1.0.0\";\n        return gameVersion;\n    }\n\n    getReportDeviceId() {\n        let dId = cc.ss.userInfoCache.deviceId;\n        if (dId === null || dId === undefined || dId === \"\")\n            return \"\";\n        return dId;\n    }\n\n    getReportUserId() {\n        let uId = cc.ss.userInfoCache.userId;\n        if (uId === null || uId === undefined || uId === \"\") return \"\";\n        return uId;\n    }\n\n    getReportAppVersion() {\n        let ver = cc.ss.userInfoCache.appVersion;\n        if (ver === null || ver === undefined || ver === \"\") return \"\";\n        return ver;\n    }\n\n}\n\nmodule.exports = ReportPointUtil;\n"]}