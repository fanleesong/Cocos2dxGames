{"version":3,"sources":["KsProjectAppDelegate.js"],"names":["Facade","require","UIUtil","AudioUtil","DateUtil","ReportPointUtil","UserInfoCacheMgr","LocalStorageMgr","LifeSystemMgr","SystemMgr","LauncherProxy","KsProjectAppDelegate","_initializeVariables","_initializeProxy","userId","cc","sys","localStorage","getItem","userName","userPickerURL","httpRequestToken","deviceId","appVersion","appEnterSceneType","parseInt","console","log","ss","userInfoCache","enterGameSceneType","headIconURL","getFacade","uiUtil","audioUtil","dateUtil","nativeUtil","reportPointUtil","stringUtil","lifeSystemMgr","systemMgr","URLConst","NameConst","TagConst","ErrorConst","GlobalConst","registerProxy","module","exports"],"mappings":"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","file":"KsProjectAppDelegate.js","sourceRoot":"../../../../../assets/scripts/AppDelegate","sourcesContent":["const Facade = require(\"Facade\");\nconst UIUtil = require('UIUtil');\nconst AudioUtil = require('AudioUtil');\nconst DateUtil = require('DateUtil');\nconst ReportPointUtil = require(\"ReportPointUtil\");\nconst UserInfoCacheMgr = require('UserInfoCacheMgr');\n\nconst LocalStorageMgr = require('LocalStorageMgr');\nconst LifeSystemMgr = require('LifeSystemMgr');\nconst SystemMgr = require('SystemMgr');\nconst LauncherProxy = require('LauncherProxy');\n\n/**\n * 代理入口类\n */\nclass KsProjectAppDelegate {\n\n    setupApplication()\n    {\n        this._initializeVariables();\n        this._initializeProxy();\n    }\n\n    loadNativeInfo()\n    {\n        let userId = cc.sys.localStorage.getItem(\"nativeUserId\");\n        let userName = cc.sys.localStorage.getItem(\"nativeUserName\");\n        let userPickerURL = cc.sys.localStorage.getItem(\"nativeUserPickerURL\");\n        let httpRequestToken = cc.sys.localStorage.getItem(\"nativeHttpRequestToken\");\n        let deviceId = cc.sys.localStorage.getItem(\"nativeDeviceId\");\n        let appVersion = cc.sys.localStorage.getItem(\"nativeAppVersion\");\n\n        //石龙于2018-5-25添加获取用户进入界面选择\n        let appEnterSceneType = cc.sys.localStorage.getItem(\"nativeAppEnterKsTaskSceneType\");\n        appEnterSceneType = parseInt(appEnterSceneType);\n        console.log(\"[KSProjectAppDelegate]native -> appEnterSceneType:\", appEnterSceneType);\n        console.log(\"[KSProjectAppDelegate]native -> appVersion:\", appVersion);\n        console.log(\"[KSProjectAppDelegate]native -> userId:\", userId);\n        console.log(\"[KSProjectAppDelegate]native -> userName:\", userName);\n        console.log(\"[KSProjectAppDelegate]native -> userPickerURL:\", userPickerURL);\n        console.log(\"[KSProjectAppDelegate]native -> httpRequestToken:\", httpRequestToken);\n        console.log(\"[KSProjectAppDelegate]native -> deviceId:\", deviceId);\n\n        cc.ss.userInfoCache.enterGameSceneType = appEnterSceneType;\n        cc.ss.userInfoCache.userId = userId;\n        cc.ss.userInfoCache.userName = userName;\n        cc.ss.userInfoCache.headIconURL = userPickerURL;\n        cc.ss.userInfoCache.deviceId = deviceId;\n        cc.ss.userInfoCache.appVersion = appVersion;\n        cc.ss.httpRequestToken = httpRequestToken\n\n\n    }\n\n    _initializeVariables()\n    {\n        cc.ss = {}; //使用cc.ss作为本项目的namespace\n        cc.ss.httpRequestToken = \"\";\n\n        // //SimpleMvc 封装\n        cc.ss.Facade =  Facade.getFacade(); //SimpleMvc - Facade类\n\n        //工具类\n        cc.ss.uiUtil = new UIUtil();\n        cc.ss.audioUtil = new AudioUtil();  //声音工具\n        cc.ss.dateUtil = new DateUtil();//日期工具\n        cc.ss.localStorage = new LocalStorageMgr();//本地缓存\n        cc.ss.nativeUtil = require('NativeMgr');//Native工具类\n        cc.ss.reportPointUtil = new ReportPointUtil();//打点\n        cc.ss.stringUtil = require('StringUtil');//字符串工具类\n\n\n        //Mgr类\n        cc.ss.userInfoCache = new UserInfoCacheMgr();\n        cc.ss.localStorage = new LocalStorageMgr();//本地缓存\n        cc.ss.lifeSystemMgr = new LifeSystemMgr(); //体力Mgr\n        cc.ss.systemMgr = new SystemMgr();//系统工具\n\n\n        //Const\n        //常量类\n        cc.ss.URLConst = require(\"URLConst\");//声明URL常量\n        cc.ss.NameConst = require(\"NameConst\");//声明名字常量\n        cc.ss.TagConst = require(\"TagConst\");// tag常量\n        cc.ss.ErrorConst = require(\"ErrorConst\");//Error常量\n        cc.ss.GlobalConst = require('GlobalConst');//Global常量\n\n    }\n\n    _initializeProxy()\n    {\n        cc.ss.Facade.registerProxy(new LauncherProxy());\n    }\n\n\n\n}//end class\n\n\nmodule.exports = KsProjectAppDelegate;"]}