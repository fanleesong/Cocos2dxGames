{"version":3,"sources":["../../../../../../../../assets/scripts/Common/Framework/SimpleMVC/Core/assets/scripts/Common/Framework/SimpleMVC/Core/Model.js"],"names":["Model","_proxyMap","proxy","getProxyName","onRegister","proxyName","onRemove","_instance","undefined","console","log","module","exports"],"mappings":";;;;;;;;;;AAAA;;;;;;IAMMA;AAEF,qBACA;AAAA;;AACG,aAAKC,SAAL,GAAiB,EAAjB;AACF;;;;sCAUaC,OAAO;AACjB,iBAAKD,SAAL,CAAeC,MAAMC,YAAN,EAAf,IAAuCD,KAAvC;AACAA,kBAAME,UAAN;AACH;;;oCAEWC,WAAW;AACnB,gBAAIH,QAAQ,KAAKD,SAAL,CAAeI,SAAf,CAAZ;AACA,gBAAIH,KAAJ,EAAW;AACP,qBAAKD,SAAL,CAAeI,SAAf,IAA4B,IAA5B;AACAH,sBAAMI,QAAN;AACH;AACJ;;;iCAEQD,WAAW;AAChB,mBAAO,KAAKJ,SAAL,CAAeI,SAAf,CAAP;AACH;;;mCAvBiB;AACd,gBAAI,KAAKE,SAAL,KAAmB,IAAnB,IAA2B,KAAKA,SAAL,KAAmBC,SAAlD,EAA6D;AACzD,qBAAKD,SAAL,GAAiB,IAAIP,KAAJ,EAAjB;AACAS,wBAAQC,GAAR;AACH;AACD,mBAAO,KAAKH,SAAZ;AACH;;;;;;AAqBLI,OAAOC,OAAP,GAAiBZ,KAAjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Model.js","sourceRoot":"../../../../../../../../assets/scripts/Common/Framework/SimpleMVC/Core","sourcesContent":["/**\n  @author : shilong\n  @time: 2017-07-24\n  @description: Model类 --(Proxy管理单例类)\n**/\n\nclass Model\n{\n    constructor()\n    {\n       this._proxyMap = [];\n    }\n\n    static getModel() {\n        if (this._instance === null || this._instance === undefined) {\n            this._instance = new Model();\n            console.log(`[Model]初始化Model静态实例`);\n        }\n        return this._instance;\n    }\n\n    registerProxy(proxy) {\n        this._proxyMap[proxy.getProxyName()] = proxy;\n        proxy.onRegister();\n    }\n\n    removeProxy(proxyName) {\n        let proxy = this._proxyMap[proxyName];\n        if (proxy) {\n            this._proxyMap[proxyName] = null;\n            proxy.onRemove();\n        }\n    }\n\n    getProxy(proxyName) {\n        return this._proxyMap[proxyName];\n    }\n\n}\n\nmodule.exports = Model;\n\n//\n// var Model = cc.Class({\n//     properties: {\n//       _proxyMap : [],\n//     },\n//\n//     statics : {\n//       _instance : null,\n//\n//       getModel : function () {\n//         if (this._instance === null) {\n//           this._instance = new Model();\n//         }\n//         return this._instance;\n//\n//       },\n//     },\n//\n//     registerProxy : function(proxy) {\n//       // console.log(proxy.getProxyName());\n//       this._proxyMap[proxy.getProxyName()] = proxy;\n//       proxy.onRegister();\n//     },\n//\n//     getProxy :function(proxyName) {\n//       return this._proxyMap[proxyName];\n//     },\n//\n//     removeProxy : function(proxyName) {\n//       let proxy = this._proxyMap[proxyName];\n//       if (proxy) {\n//           this._proxyMap[proxyName] = null;\n//           // console.log(\"删除proxy\");\n//           proxy.onRemove();\n//       }\n//     },\n// });\n"]}