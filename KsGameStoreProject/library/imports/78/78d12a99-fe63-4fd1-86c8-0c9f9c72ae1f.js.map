{"version":3,"sources":["../../../../../../assets/scripts/Common/Mgr/assets/scripts/Common/Mgr/SystemMgr.js"],"names":["SystemMgr","_registerListeners","cc","game","on","EVENT_SHOW","console","log","ss","lifeSystemMgr","enterForeground","isBgmOpen","localStorage","userInfoCache","userId","audioUtil","resumeBgm","EVENT_HIDE","enterBackground","pauseBgm","module","exports"],"mappings":";;;;;;;;;;IACMA;AACF,yBAAc;AAAA;AAAE;;;;kCAGhB;AACI,iBAAKC,kBAAL;AACH;;;6CAGD;AACIC,eAAGC,IAAH,CAAQC,EAAR,CAAWF,GAAGC,IAAH,CAAQE,UAAnB,EAA+B,YAAM;AACjCC,wBAAQC,GAAR,CAAY,uBAAZ;AACAL,mBAAGM,EAAH,CAAMC,aAAN,CAAoBC,eAApB,GAFiC,CAEK;;AAEtC,oBAAIC,YAAYT,GAAGM,EAAH,CAAMI,YAAN,CAAmBD,SAAnB,CAA6BT,GAAGM,EAAH,CAAMK,aAAN,CAAoBC,MAAjD,CAAhB;AACA,oBAAIH,SAAJ,EAAeT,GAAGM,EAAH,CAAMO,SAAN,CAAgBC,SAAhB,GALkB,CAKU;AAC9C,aAND;;AAQAd,eAAGC,IAAH,CAAQC,EAAR,CAAWF,GAAGC,IAAH,CAAQc,UAAnB,EAA+B,YAAM;AACjCX,wBAAQC,GAAR,CAAY,uBAAZ;AACAL,mBAAGM,EAAH,CAAMC,aAAN,CAAoBS,eAApB,GAFiC,CAEK;;AAEtC,oBAAIP,YAAYT,GAAGM,EAAH,CAAMI,YAAN,CAAmBD,SAAnB,CAA6BT,GAAGM,EAAH,CAAMK,aAAN,CAAoBC,MAAjD,CAAhB;AACA,oBAAIH,SAAJ,EAAeT,GAAGM,EAAH,CAAMO,SAAN,CAAgBI,QAAhB,GALkB,CAKU;AAC9C,aAND;AAOH;;;;KAEJ;;AAEDC,OAAOC,OAAP,GAAiBrB,SAAjB","file":"SystemMgr.js","sourceRoot":"../../../../../../assets/scripts/Common/Mgr","sourcesContent":["\nclass SystemMgr {\n    constructor() {}\n\n    startUp()\n    {\n        this._registerListeners();\n    }\n\n    _registerListeners()\n    {\n        cc.game.on(cc.game.EVENT_SHOW, () => {\n            console.log('[SystemMgr]接收到进入前台的消息');\n            cc.ss.lifeSystemMgr.enterForeground();//进入前台\n\n            let isBgmOpen = cc.ss.localStorage.isBgmOpen(cc.ss.userInfoCache.userId);\n            if (isBgmOpen) cc.ss.audioUtil.resumeBgm();//恢复bgm\n        });\n\n        cc.game.on(cc.game.EVENT_HIDE, () => {\n            console.log('[SystemMgr]接收到进入后台的消息');\n            cc.ss.lifeSystemMgr.enterBackground();//进入后台\n\n            let isBgmOpen = cc.ss.localStorage.isBgmOpen(cc.ss.userInfoCache.userId);\n            if (isBgmOpen) cc.ss.audioUtil.pauseBgm(); //暂停bgm\n        });\n    }\n\n}//end class\n\nmodule.exports = SystemMgr;"]}