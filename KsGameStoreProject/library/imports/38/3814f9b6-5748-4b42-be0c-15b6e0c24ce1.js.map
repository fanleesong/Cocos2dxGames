{"version":3,"sources":["../../../../../../assets/scripts/Common/Mgr/assets/scripts/Common/Mgr/LocalStorageMgr.js"],"names":["USER_BGM_SETTING_PREFIX","USER_SOUND_SETTING_PREFIX","USER_VOICE_SETTING_PREFIX","USER_PERSISTENCE_MEDAL_ID_PREFIX","USER_FIT_IPHONEX_TOP_BTN_POSITION_PREFIX","LocalDataStorage","require","LocalStorageMgr","_localDataStorage","userId","saverTag","rlt","getBool","newState","setBool","medalList","jsonStr","JSON","stringify","setString","getString","newPosition","positionJson","iphoneXPos","module","exports"],"mappings":";;;;;;;;;;AACA,IAAMA,0BAA0B,kBAAhC;AACA,IAAMC,4BAA4B,oBAAlC;AACA,IAAMC,4BAA4B,oBAAlC;AACA,IAAMC,mCAAmC,mCAAzC;AACA,IAAMC,2CAA2C,2CAAjD;;AAEA;AACA,IAAMC,mBAAmBC,QAAQ,kBAAR,CAAzB;;IAEMC;AACF,+BAAc;AAAA;;AACV,aAAKC,iBAAL,GAAyB,IAAIH,gBAAJ,EAAzB;AACH;;AAED;;AAEA;;;;oCAEYI,QAAQ;AAChB,gBAAIC,WAAWR,4BAA4BO,MAA3C;AACA,gBAAIE,MAAM,KAAKH,iBAAL,CAAuBI,OAAvB,CAA+BF,QAA/B,CAAV;AACA,mBAAO,CAACC,GAAR;AACH;;;sCAEaF,QAAQI,UAAU;AAC5B,gBAAIH,WAAWR,4BAA4BO,MAA3C;AACA,iBAAKD,iBAAL,CAAuBM,OAAvB,CAA+BJ,QAA/B,EAAyC,CAACG,QAA1C;AACH;;;oCAGWJ,QAAQ;AAChB,gBAAIC,WAAWT,4BAA4BQ,MAA3C;AACA,gBAAIE,MAAM,KAAKH,iBAAL,CAAuBI,OAAvB,CAA+BF,QAA/B,CAAV;AACA,mBAAO,CAACC,GAAR;AACH;;;kCAESF,QAAQ;AACd,gBAAIC,WAAWV,0BAA0BS,MAAzC;AACA,gBAAIE,MAAM,KAAKH,iBAAL,CAAuBI,OAAvB,CAA+BF,QAA/B,CAAV;AACA,mBAAO,CAACC,GAAR;AACH;;;sCAEaF,QAAQI,UAAU;AAC5B,gBAAIH,WAAWT,4BAA4BQ,MAA3C;AACA,iBAAKD,iBAAL,CAAuBM,OAAvB,CAA+BJ,QAA/B,EAAyC,CAACG,QAA1C;AACH;;;oCAEWJ,QAAQI,UAAU;AAC1B,gBAAIH,WAAWV,0BAA0BS,MAAzC;AACA,iBAAKD,iBAAL,CAAuBM,OAAvB,CAA+BJ,QAA/B,EAAyC,CAACG,QAA1C;AACH;;AAED;;;;;;;;gDAKwBJ,QAAQM,WAAW;AACvC,gBAAIC,UAAUC,KAAKC,SAAL,CAAeH,SAAf,CAAd;AACA,gBAAIL,WAAWP,mCAAmCM,MAAlD;AACA,iBAAKD,iBAAL,CAAuBW,SAAvB,CAAiCT,QAAjC,EAA2CM,OAA3C;AACH;;AAED;;;;;;;;gDAKwBP,QAAQ;AAC5B,gBAAIC,WAAWP,mCAAmCM,MAAlD;AACA,mBAAO,KAAKD,iBAAL,CAAuBY,SAAvB,CAAiCV,QAAjC,CAAP;AAGH;;AAED;;;;;;;;2DAKmCD,QAAOY,aAAY;AAClD,gBAAIC,eAAe;AACfC,4BAAYF;AADG,aAAnB;AAGA,gBAAIX,WAAWN,2CAA2CK,MAA1D;AACA,iBAAKD,iBAAL,CAAuBW,SAAvB,CAAiCT,QAAjC,EAA2CO,KAAKC,SAAL,CAAeI,YAAf,CAA3C;AAEH;;AAED;;;;;;;;2DAKmCb,QAAO;AACtC,gBAAIC,WAAWN,2CAA2CK,MAA1D;AACA,mBAAO,KAAKD,iBAAL,CAAuBY,SAAvB,CAAiCV,QAAjC,CAAP;AACH;;AAED;;;;;;;AAGJc,OAAOC,OAAP,GAAiBlB,eAAjB","file":"LocalStorageMgr.js","sourceRoot":"../../../../../../assets/scripts/Common/Mgr","sourcesContent":["\nconst USER_BGM_SETTING_PREFIX = \"ksgamestore-bgm-\";\nconst USER_SOUND_SETTING_PREFIX = \"ksgamestore-sound-\";\nconst USER_VOICE_SETTING_PREFIX = \"ksgamestore-voice-\";\nconst USER_PERSISTENCE_MEDAL_ID_PREFIX = \"ksgamestore-medal-id-persistence-\";\nconst USER_FIT_IPHONEX_TOP_BTN_POSITION_PREFIX = \"ksgamestore-fit-iphonex-top-btn-position-\";\n\n//storage 本地读取\nconst LocalDataStorage = require('LocalDataStorage');\n\nclass LocalStorageMgr {\n    constructor() {\n        this._localDataStorage = new LocalDataStorage();\n    }\n\n    //////////////////////////////////////////////////////////////////////////////\n\n    //////////////////////////////////////////////////////////////////////////////\n\n    isVoiceOpen(userId) {\n        let saverTag = USER_VOICE_SETTING_PREFIX + userId;\n        let rlt = this._localDataStorage.getBool(saverTag);\n        return !rlt;\n    }\n\n    setVoiceState(userId, newState) {\n        let saverTag = USER_VOICE_SETTING_PREFIX + userId;\n        this._localDataStorage.setBool(saverTag, !newState);\n    }\n\n\n    isSoundOpen(userId) {\n        let saverTag = USER_SOUND_SETTING_PREFIX + userId;\n        let rlt = this._localDataStorage.getBool(saverTag);\n        return !rlt;\n    }\n\n    isBgmOpen(userId) {\n        let saverTag = USER_BGM_SETTING_PREFIX + userId;\n        let rlt = this._localDataStorage.getBool(saverTag);\n        return !rlt;\n    }\n\n    setSoundState(userId, newState) {\n        let saverTag = USER_SOUND_SETTING_PREFIX + userId;\n        this._localDataStorage.setBool(saverTag, !newState);\n    }\n\n    setBgmState(userId, newState) {\n        let saverTag = USER_BGM_SETTING_PREFIX + userId;\n        this._localDataStorage.setBool(saverTag, !newState);\n    }\n\n    /**\n     * 存储本地缓存勋章列表\n     * @param userId\n     * @param medalList\n     */\n    setPersistenceMedalList(userId, medalList) {\n        let jsonStr = JSON.stringify(medalList);\n        let saverTag = USER_PERSISTENCE_MEDAL_ID_PREFIX + userId;\n        this._localDataStorage.setString(saverTag, jsonStr);\n    }\n\n    /**\n     * 获取本地缓存勋章列表\n     * @param userId\n     * @returns {*}\n     */\n    getPersistenceMedalList(userId) {\n        let saverTag = USER_PERSISTENCE_MEDAL_ID_PREFIX + userId;\n        return this._localDataStorage.getString(saverTag);\n\n\n    }\n\n    /**\n     * 存储适配iphoneX顶部关闭按钮的位置\n     * @param userId\n     * @param newPosition\n     */\n    setUserFitIphoneXTopButtonPosition(userId,newPosition){\n        let positionJson = {\n            iphoneXPos: newPosition,\n        };\n        let saverTag = USER_FIT_IPHONEX_TOP_BTN_POSITION_PREFIX + userId;\n        this._localDataStorage.setString(saverTag, JSON.stringify(positionJson));\n\n    }\n\n    /**\n     * 获取适配iphoneX顶部关闭按钮的位置\n     * @param userId\n     * @returns {*}\n     */\n    getUserFitIphoneXTopButtonPosition(userId){\n        let saverTag = USER_FIT_IPHONEX_TOP_BTN_POSITION_PREFIX + userId;\n        return this._localDataStorage.getString(saverTag);\n    }\n\n    //end class LocalStorageMgr\n}\n\nmodule.exports = LocalStorageMgr;\n"]}